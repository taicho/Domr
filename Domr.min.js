var Domr=function(){function n(d,e){e||(e={});e.tag=$(d).prop("tagName");for(var f=e,a,b=0,c=$(d).get(0).attributes,g=c.length;b<g;b++)a=c.item(b),f[a.nodeName]=a.nodeValue;f=$(d).contents();0<f.length&&(e.inner=[]);for(a=0;a<f.length;a++)b=f[a],"#text"==b.nodeName?e.inner.push(b.nodeValue):(c={},e.inner.push(c),n($(b),c));return e}function l(d,e){if("string"===typeof d)$(e).append(d);else{var f=document.createElement(d.tag),a;for(a in d)if("count"!=a&&"func"!=a&&"tag"!=a.toLowerCase())if("inner"==
a.toLowerCase()){if(d.inner)for(var b=0;b<d.inner.length;b++)l(d.inner[b],f)}else if("innerRepeat"==a)for(var c=d.innerRepeat,g=0,g=c.count instanceof Function?c.count.call(c):c.count,k=c.func,b=0;b<g;b++){var m=l(c,f);k&&k.call(m,b,g);for(var h in c)"count"!=h&&"tag"!=h&&"func"!=h&&c[h]instanceof Function&&$(m).attr(h,c[h].call(m,b,g))}else $(f).attr(a,d[a]);e&&$(e).append(f);return f}}var k={};k.fromDOM=n;k.toDOM=l;return k}();